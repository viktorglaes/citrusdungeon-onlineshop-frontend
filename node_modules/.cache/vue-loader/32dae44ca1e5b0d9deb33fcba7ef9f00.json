{"remainingRequest":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/viktorglaes/Documents/vue/online-shop/client/src/views/Products.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/src/views/Products.vue","mtime":1605818369290},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IFNlYXJjaEZpZWxkIGZyb20gIi4uL2NvbXBvbmVudHMvU2VhcmNoRmllbGQiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQcm9kdWN0cyIsCiAgY29tcG9uZW50czogewogICAgU2VhcmNoRmllbGQsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8gaXRlbXM6IFtdLAogICAgICBjdXJyZW50UHJvZHVjdDoge30sCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWyJhbGxQcm9kdWN0cyIsICJjYXJ0SXRlbXMiXSksCiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKFsiZ2V0UHJvZHVjdHMiLCAic2V0Q2FydEl0ZW1zIiwgInNldFByb2R1Y3RCeUlkIl0pLAogICAgYWRkVG9DYXJ0KHByb2R1Y3QpIHsKICAgICAgdGhpcy5jdXJyZW50UHJvZHVjdCA9IHsKICAgICAgICBxdWFudGl0eTogMSwKICAgICAgICB0b3RhbFByaWNlOiBwcm9kdWN0LnByaWNlLAogICAgICAgIHByaWNlOiBwcm9kdWN0LnByaWNlLAogICAgICAgIHRpdGxlOiBwcm9kdWN0LnRpdGxlLAogICAgICB9OwogICAgICB0aGlzLmNhcnRJdGVtcy5wdXNoKHRoaXMuY3VycmVudFByb2R1Y3QpOwogICAgICB0aGlzLnNldENhcnRJdGVtcyh0aGlzLmNhcnRJdGVtcyk7CiAgICAgIHRoaXMuYXBwbHlDYXJ0SWNvbigpOwogICAgfSwKICAgIG5hdmlnYXRlVG8ocm91dGUpIHsKICAgICAgdGhpcy5nZXRQcm9kdWN0KHJvdXRlLnBhcmFtcy5wcm9kdWN0SWQpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaChyb3V0ZSk7CiAgICAgIC8vIGNvbnNvbGUubG9nKHJvdXRlLnBhcmFtcy5wcm9kdWN0SWQpOwogICAgfSwKICAgIGdldFByb2R1Y3QocHJvZHVjdElkKSB7CiAgICAgIGxldCBwcm9kdWN0ID0ge307CiAgICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hbGxQcm9kdWN0cy5sZW5ndGg7IGkrKykgewogICAgICAvLyAgIGlmICh0aGlzLmFsbFByb2R1Y3RzW2ldLl9pZCA9PSBwcm9kdWN0SWQpIHsKICAgICAgLy8gICAgIHByb2R1Y3QgPSB0aGlzLmFsbFByb2R1Y3RzW2ldOwogICAgICAvLyAgIH0KICAgICAgLy8gfQogICAgICBwcm9kdWN0ID0gdGhpcy5hbGxQcm9kdWN0cy5maW5kKChlbCkgPT4gZWwuX2lkID09PSBwcm9kdWN0SWQpOwogICAgICB0aGlzLnNldFByb2R1Y3RCeUlkKHByb2R1Y3QpOwogICAgfSwKICAgIGFwcGx5Q2FydEljb24oKSB7CiAgICAgIGxldCBxdWFudGl0eUljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaXRlbS1xdWFudGl0eSIpOwoKICAgICAgcXVhbnRpdHlJY29uLnN0eWxlID0KICAgICAgICAidHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuNnMgZWFzZTsgdHJhbnNmb3JtOiBzY2FsZSgxLjEpOyBiYWNrZ3JvdW5kLWNvbG9yOiAjMjJDMzIyOyI7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgcXVhbnRpdHlJY29uLnN0eWxlID0KICAgICAgICAgICJ0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC42cyBlYXNlOyB0cmFuc2Zvcm06IHNjYWxlKDAuOSk7IGJhY2tncm91bmQtY29sb3I6ICMyMkMzMjI7IjsKICAgICAgfSwgNTAwKTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5pdGVtcyA9IHRoaXMuY2FydEl0ZW1zOwogIH0sCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIC8vIHRoaXMuZ2V0UHJvZHVjdHMoIiIpOwogIH0sCn07Cg=="},{"version":3,"sources":["Products.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Products.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"products\">\n    <SearchField />\n    <div class=\"search-results\">\n      <div class=\"header\" style=\"border-bottom: solid 5px white\">\n        <p style=\"margin-left: 10px\">{{ allProducts.length }} results</p>\n      </div>\n      <div class=\"columns is-multiline\">\n        <div\n          v-for=\"product in allProducts\"\n          :key=\"product._id\"\n          class=\"column is-one-quarter\"\n        >\n          <div class=\"card\">\n            <div\n              class=\"card-image\"\n              style=\"cursor: pointer;\"\n              @click=\"\n                navigateTo({\n                  name: 'Product',\n                  params: { productId: product._id },\n                })\n              \"\n            >\n              <!-- <router-link to=\"product\"> -->\n              <figure class=\"image is-4by3\">\n                <img :src=\"product.image\" alt=\"#\" />\n              </figure>\n              <!-- </router-link> -->\n            </div>\n            <div class=\"card-content\">\n              <div class=\"media\">\n                <div class=\"media-left\"></div>\n                <div class=\"media-content\">\n                  <p class=\"title is-4\">{{ product.title }}</p>\n                  <p class=\"subtitle is-6\">{{ product.model }}</p>\n                  <p class=\"subtitle is-6\" style=\"font-weight: bold\">\n                    ${{ product.price }}\n                  </p>\n                </div>\n              </div>\n              <div>\n                <b-button @click=\"addToCart(product)\">Add to cart</b-button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\nimport SearchField from \"../components/SearchField\";\n\nexport default {\n  name: \"Products\",\n  components: {\n    SearchField,\n  },\n  data() {\n    return {\n      // items: [],\n      currentProduct: {},\n    };\n  },\n  computed: {\n    ...mapGetters([\"allProducts\", \"cartItems\"]),\n  },\n  methods: {\n    ...mapActions([\"getProducts\", \"setCartItems\", \"setProductById\"]),\n    addToCart(product) {\n      this.currentProduct = {\n        quantity: 1,\n        totalPrice: product.price,\n        price: product.price,\n        title: product.title,\n      };\n      this.cartItems.push(this.currentProduct);\n      this.setCartItems(this.cartItems);\n      this.applyCartIcon();\n    },\n    navigateTo(route) {\n      this.getProduct(route.params.productId);\n      this.$router.push(route);\n      // console.log(route.params.productId);\n    },\n    getProduct(productId) {\n      let product = {};\n      // for (let i = 0; i < this.allProducts.length; i++) {\n      //   if (this.allProducts[i]._id == productId) {\n      //     product = this.allProducts[i];\n      //   }\n      // }\n      product = this.allProducts.find((el) => el._id === productId);\n      this.setProductById(product);\n    },\n    applyCartIcon() {\n      let quantityIcon = document.getElementById(\"item-quantity\");\n\n      quantityIcon.style =\n        \"transition: transform 0.6s ease; transform: scale(1.1); background-color: #22C322;\";\n      setTimeout(function() {\n        quantityIcon.style =\n          \"transition: transform 0.6s ease; transform: scale(0.9); background-color: #22C322;\";\n      }, 500);\n    },\n  },\n  mounted() {\n    this.items = this.cartItems;\n  },\n  async created() {\n    // this.getProducts(\"\");\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.products {\n  .search-results {\n    padding: 20px 50px 50px 50px;\n\n    .header {\n      background-color: #f2effb;\n      font-size: 24px;\n      font-weight: 600;\n    }\n  }\n}\n</style>\n"]}]}