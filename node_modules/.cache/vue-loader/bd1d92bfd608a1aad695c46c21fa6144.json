{"remainingRequest":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/viktorglaes/Documents/vue/online-shop/client/src/views/Products.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/src/views/Products.vue","mtime":1605818369290},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoucHJvZHVjdHMgewogIC5zZWFyY2gtcmVzdWx0cyB7CiAgICBwYWRkaW5nOiAyMHB4IDUwcHggNTBweCA1MHB4OwoKICAgIC5oZWFkZXIgewogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJlZmZiOwogICAgICBmb250LXNpemU6IDI0cHg7CiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Products.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Products.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"products\">\n    <SearchField />\n    <div class=\"search-results\">\n      <div class=\"header\" style=\"border-bottom: solid 5px white\">\n        <p style=\"margin-left: 10px\">{{ allProducts.length }} results</p>\n      </div>\n      <div class=\"columns is-multiline\">\n        <div\n          v-for=\"product in allProducts\"\n          :key=\"product._id\"\n          class=\"column is-one-quarter\"\n        >\n          <div class=\"card\">\n            <div\n              class=\"card-image\"\n              style=\"cursor: pointer;\"\n              @click=\"\n                navigateTo({\n                  name: 'Product',\n                  params: { productId: product._id },\n                })\n              \"\n            >\n              <!-- <router-link to=\"product\"> -->\n              <figure class=\"image is-4by3\">\n                <img :src=\"product.image\" alt=\"#\" />\n              </figure>\n              <!-- </router-link> -->\n            </div>\n            <div class=\"card-content\">\n              <div class=\"media\">\n                <div class=\"media-left\"></div>\n                <div class=\"media-content\">\n                  <p class=\"title is-4\">{{ product.title }}</p>\n                  <p class=\"subtitle is-6\">{{ product.model }}</p>\n                  <p class=\"subtitle is-6\" style=\"font-weight: bold\">\n                    ${{ product.price }}\n                  </p>\n                </div>\n              </div>\n              <div>\n                <b-button @click=\"addToCart(product)\">Add to cart</b-button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\nimport SearchField from \"../components/SearchField\";\n\nexport default {\n  name: \"Products\",\n  components: {\n    SearchField,\n  },\n  data() {\n    return {\n      // items: [],\n      currentProduct: {},\n    };\n  },\n  computed: {\n    ...mapGetters([\"allProducts\", \"cartItems\"]),\n  },\n  methods: {\n    ...mapActions([\"getProducts\", \"setCartItems\", \"setProductById\"]),\n    addToCart(product) {\n      this.currentProduct = {\n        quantity: 1,\n        totalPrice: product.price,\n        price: product.price,\n        title: product.title,\n      };\n      this.cartItems.push(this.currentProduct);\n      this.setCartItems(this.cartItems);\n      this.applyCartIcon();\n    },\n    navigateTo(route) {\n      this.getProduct(route.params.productId);\n      this.$router.push(route);\n      // console.log(route.params.productId);\n    },\n    getProduct(productId) {\n      let product = {};\n      // for (let i = 0; i < this.allProducts.length; i++) {\n      //   if (this.allProducts[i]._id == productId) {\n      //     product = this.allProducts[i];\n      //   }\n      // }\n      product = this.allProducts.find((el) => el._id === productId);\n      this.setProductById(product);\n    },\n    applyCartIcon() {\n      let quantityIcon = document.getElementById(\"item-quantity\");\n\n      quantityIcon.style =\n        \"transition: transform 0.6s ease; transform: scale(1.1); background-color: #22C322;\";\n      setTimeout(function() {\n        quantityIcon.style =\n          \"transition: transform 0.6s ease; transform: scale(0.9); background-color: #22C322;\";\n      }, 500);\n    },\n  },\n  mounted() {\n    this.items = this.cartItems;\n  },\n  async created() {\n    // this.getProducts(\"\");\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.products {\n  .search-results {\n    padding: 20px 50px 50px 50px;\n\n    .header {\n      background-color: #f2effb;\n      font-size: 24px;\n      font-weight: 600;\n    }\n  }\n}\n</style>\n"]}]}