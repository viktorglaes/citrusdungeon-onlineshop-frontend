{"remainingRequest":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/viktorglaes/Documents/vue/online-shop/client/src/components/NavBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/src/components/NavBar.vue","mtime":1605824398735},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJOYXZCYXIiLAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsiaXNMb2dnZWRJbiIsICJ1c2VyIiwgImNhcnRJdGVtcyJdKSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgc2VhcmNoUGFyYW1zOiB7CiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIGNhdGVnb3JpZXM6IG51bGwsCiAgICAgIH0sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyhbCiAgICAgICJsb2dvdXQiLAogICAgICAibG9naW4iLAogICAgICAiZ2V0UHJvZHVjdHMiLAogICAgICAiZ2V0UHJvZmlsZSIsCiAgICAgICJnZXRPcmRlcnMiLAogICAgXSksCiAgICBsb2dvdXRVc2VyKCkgewogICAgICB0aGlzLmxvZ291dCgpOwogICAgfSwKICAgIGxvZ2luVXNlcigpIHsKICAgICAgbGV0IHVzZXIgPSB7CiAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsCiAgICAgIH07CiAgICAgIHRoaXMubG9naW4odXNlcikKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBpZiAocmVzLmRhdGEuc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3Byb2ZpbGUiKTsKICAgICAgICAgICAgLy8gdGhpcy5nZXRQcm9maWxlKCk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBzZWxlY3ROYXZDYXRlZ29yeShldmVudCkgewogICAgICBsZXQgdGFyZ2V0SWQgPSBldmVudC50YXJnZXQuaWQ7CiAgICAgIGlmICh0YXJnZXRJZCA9PT0gInByb2R1Y3RzIikgewogICAgICAgIHRhcmdldElkID0gImxhcHRvcCx0dixjb25zb2xlLHBjLHBob25lLGNhbWVyYSI7CiAgICAgIH0KICAgICAgdGhpcy5zZWFyY2hQYXJhbXMuY2F0ZWdvcmllcyA9IFt0YXJnZXRJZF07CiAgICAgIHRoaXMuZ2V0UHJvZHVjdHModGhpcy5zZWFyY2hQYXJhbXMpOwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5pc0xvZ2dlZEluKSB7CiAgICAgIHRoaXMuZ2V0UHJvZmlsZSgpOwogICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["NavBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NavBar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"navbar-component\">\n    <b-navbar :transparent=\"true\">\n      <template slot=\"brand\">\n        <b-navbar-item tag=\"router-link\" :to=\"{ path: '/' }\">\n          <img src=\"../assets/logo.png\" alt=\"#\" style=\"max-height: 2.5rem\" />\n        </b-navbar-item>\n      </template>\n      <template slot=\"start\">\n        <b-navbar-item tag=\"router-link\" :to=\"{ path: '/customer-service' }\">\n          Customer Service\n        </b-navbar-item>\n        <b-navbar-item tag=\"router-link\" :to=\"{ path: '/about' }\">\n          About\n        </b-navbar-item>\n        <b-navbar-dropdown label=\"Products\">\n          <router-link to=\"/products\">\n            <div @click=\"selectNavCategory($event)\">\n              <b-navbar-item href=\"#\" id=\"products\">\n                All Products\n              </b-navbar-item>\n              <b-navbar-item href=\"#\" id=\"laptop\">\n                Laptops\n              </b-navbar-item>\n              <b-navbar-item href=\"#\" id=\"tv\">\n                TVs\n              </b-navbar-item>\n              <b-navbar-item href=\"#\" id=\"console\">\n                Console & Gaming\n              </b-navbar-item>\n              <b-navbar-item href=\"#\" id=\"pc\">\n                PCs\n              </b-navbar-item>\n              <b-navbar-item href=\"#\" id=\"phone\">\n                Phones\n              </b-navbar-item>\n              <b-navbar-item href=\"#\" id=\"camera\">\n                Cameras\n              </b-navbar-item>\n            </div>\n          </router-link>\n        </b-navbar-dropdown>\n      </template>\n\n      <template slot=\"end\">\n        <b-navbar-item\n          tag=\"router-link\"\n          to=\"/register\"\n          v-if=\"!isLoggedIn\"\n          style=\"background-color: rgb(19, 19, 19);\"\n        >\n          <b-button type=\"is-primary\">Register</b-button>\n        </b-navbar-item>\n        <b-navbar-item v-if=\"!isLoggedIn\">\n          <b-dropdown\n            position=\"is-bottom-left\"\n            append-to-body\n            aria-role=\"menu\"\n            trap-focus\n          >\n            <a\n              id=\"login-navbar\"\n              class=\"navbar-item\"\n              slot=\"trigger\"\n              role=\"button\"\n            >\n              <span>Login</span>\n              <!-- <b-icon icon=\"chevron-down\"></b-icon> -->\n            </a>\n\n            <b-dropdown-item\n              aria-role=\"menu-item\"\n              :focusable=\"false\"\n              custom\n              paddingless\n            >\n              <form @submit.prevent=\"loginUser\">\n                <div class=\"modal-card\" style=\"width:300px;\">\n                  <section class=\"modal-card-body\">\n                    <b-field label=\"Username\">\n                      <b-input\n                        type=\"text\"\n                        placeholder=\"Your username\"\n                        required\n                        v-model=\"username\"\n                      >\n                      </b-input>\n                    </b-field>\n\n                    <b-field label=\"Password\">\n                      <b-input\n                        type=\"password\"\n                        password-reveal\n                        placeholder=\"Your password\"\n                        required\n                        v-model=\"password\"\n                      >\n                      </b-input>\n                    </b-field>\n\n                    <b-checkbox>Remember me</b-checkbox>\n                  </section>\n                  <footer class=\"modal-card-foot\">\n                    <button class=\"button is-primary\">\n                      Login\n                    </button>\n                  </footer>\n                </div>\n              </form>\n            </b-dropdown-item>\n          </b-dropdown>\n        </b-navbar-item>\n\n        <b-navbar-item v-if=\"isLoggedIn\">\n          <b-dropdown position=\"is-bottom-left\" append-to-body aria-role=\"menu\">\n            <a class=\"navbar-item\" slot=\"trigger\" role=\"button\">\n              <b-icon icon=\"user\"></b-icon>\n            </a>\n\n            <b-dropdown-item custom aria-role=\"menuitem\">\n              Logged in as <b v-if=\"user\">{{ user.username }}</b>\n            </b-dropdown-item>\n            <hr class=\"dropdown-divider\" />\n            <b-dropdown-item aria-role=\"menuitem\">\n              <router-link to=\"/profile\" tag=\"div\"\n                ><b-icon icon=\"user\"></b-icon> Profile</router-link\n              >\n            </b-dropdown-item>\n            <!-- <b-dropdown-item aria-role=\"menuitem\">\n              <router-link to=\"/about\" tag=\"div\"\n                ><b-icon icon=\"info-circle\"></b-icon> About</router-link\n              >\n            </b-dropdown-item> -->\n            <b-dropdown-item aria-role=\"menuitem\" @click=\"logoutUser\">\n              <b-icon icon=\"sign-out-alt\"></b-icon>\n              Logout\n            </b-dropdown-item>\n          </b-dropdown>\n        </b-navbar-item>\n        <b-navbar-item\n          style=\"margin-right: 15px; padding: 10px;\"\n          tag=\"router-link\"\n          to=\"/cart\"\n        >\n          <div>\n            <b-icon icon=\"shopping-cart\"></b-icon>\n            <div id=\"item-quantity\">\n              <div class=\"dot\" v-if=\"cartItems.length > 0\">\n                {{ cartItems.length }}\n              </div>\n            </div>\n          </div>\n        </b-navbar-item>\n      </template>\n    </b-navbar>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\nexport default {\n  name: \"NavBar\",\n  computed: {\n    ...mapGetters([\"isLoggedIn\", \"user\", \"cartItems\"]),\n  },\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      searchParams: {\n        title: \"\",\n        categories: null,\n      },\n    };\n  },\n  methods: {\n    ...mapActions([\n      \"logout\",\n      \"login\",\n      \"getProducts\",\n      \"getProfile\",\n      \"getOrders\",\n    ]),\n    logoutUser() {\n      this.logout();\n    },\n    loginUser() {\n      let user = {\n        username: this.username,\n        password: this.password,\n      };\n      this.login(user)\n        .then((res) => {\n          if (res.data.success === true) {\n            this.$router.push(\"/profile\");\n            // this.getProfile();\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    async selectNavCategory(event) {\n      let targetId = event.target.id;\n      if (targetId === \"products\") {\n        targetId = \"laptop,tv,console,pc,phone,camera\";\n      }\n      this.searchParams.categories = [targetId];\n      this.getProducts(this.searchParams);\n    },\n  },\n  mounted() {\n    if (this.isLoggedIn) {\n      this.getProfile();\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.navbar-component {\n  .navbar {\n    background-color: rgb(19, 19, 19);\n  }\n  a.navbar-item,\n  .navbar-link {\n    color: #6d6d6d;\n  }\n  #item-quantity {\n    border-radius: 50%;\n    width: 20px;\n    height: 20px;\n    position: absolute;\n    right: -10%;\n    top: 10%;\n    text-align: center;\n    color: white;\n    font-weight: 600;\n\n    .dot {\n      font-size: 14px;\n      margin-top: -1px;\n    }\n  }\n}\n</style>\n"]}]}