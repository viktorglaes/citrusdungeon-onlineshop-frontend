{"remainingRequest":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/babel-loader/lib/index.js!/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/eslint-loader/index.js??ref--13-0!/Users/viktorglaes/Documents/vue/online-shop/client/src/router/index.js","dependencies":[{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/src/router/index.js","mtime":1603476946718},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAidnVlLXJvdXRlciI7CmltcG9ydCBIb21lIGZyb20gIi4uL3ZpZXdzL0hvbWUudnVlIjsKaW1wb3J0IHN0b3JlIGZyb20gIi4uL3N0b3JlL2luZGV4IjsKVnVlLnVzZShWdWVSb3V0ZXIpOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAiLyIsCiAgbmFtZTogIkhvbWUiLAogIGNvbXBvbmVudDogSG9tZQp9LCB7CiAgcGF0aDogIi9hYm91dCIsCiAgbmFtZTogIkFib3V0IiwKICAvLyByb3V0ZSBsZXZlbCBjb2RlLXNwbGl0dGluZwogIC8vIHRoaXMgZ2VuZXJhdGVzIGEgc2VwYXJhdGUgY2h1bmsgKGFib3V0LltoYXNoXS5qcykgZm9yIHRoaXMgcm91dGUKICAvLyB3aGljaCBpcyBsYXp5LWxvYWRlZCB3aGVuIHRoZSByb3V0ZSBpcyB2aXNpdGVkLgogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgiLi4vdmlld3MvQWJvdXQudnVlIik7CiAgfQp9LCB7CiAgcGF0aDogIi9yZWdpc3RlciIsCiAgbmFtZTogIlJlZ2lzdGVyIiwKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL1JlZ2lzdGVyLnZ1ZSIpOwogIH0sCiAgbWV0YTogewogICAgcmVxdWlyZXNHdWVzdDogdHJ1ZQogIH0KfSwgewogIHBhdGg6ICIvbG9naW4iLAogIG5hbWU6ICJMb2dpbiIsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9Mb2dpbi52dWUiKTsKICB9LAogIG1ldGE6IHsKICAgIHJlcXVpcmVzR3Vlc3Q6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAiL3Byb2ZpbGUiLAogIG5hbWU6ICJQcm9maWxlIiwKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL1Byb2ZpbGUudnVlIik7CiAgfSwKICBtZXRhOiB7CiAgICByZXF1aXJlc0F1dGg6IHRydWUKICB9Cn1dOwp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgbW9kZTogImhpc3RvcnkiLAogIGJhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIHJvdXRlczogcm91dGVzCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICBpZiAodG8ubWF0Y2hlZC5zb21lKGZ1bmN0aW9uIChyZWNvcmQpIHsKICAgIHJldHVybiByZWNvcmQubWV0YS5yZXF1aXJlc0F1dGg7CiAgfSkpIHsKICAgIGlmICghc3RvcmUuZ2V0dGVycy5pc0xvZ2dlZEluKSB7CiAgICAgIC8vIFJlZGlyZWN0IHRvIGxvZ2luIHBhZ2UKICAgICAgbmV4dCgiL2xvZ2luIik7CiAgICB9IGVsc2UgewogICAgICBuZXh0KCk7CiAgICB9CiAgfSBlbHNlIGlmICh0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgcmV0dXJuIHJlY29yZC5tZXRhLnJlcXVpcmVzR3Vlc3Q7CiAgfSkpIHsKICAgIGlmIChzdG9yZS5nZXR0ZXJzLmlzTG9nZ2VkSW4pIHsKICAgICAgLy8gUmVkaXJlY3QgdG8gbG9naW4gcGFnZQogICAgICBuZXh0KCIvcHJvZmlsZSIpOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpOwogICAgfQogIH0gZWxzZSB7CiAgICBuZXh0KCk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["/Users/viktorglaes/Documents/vue/online-shop/client/src/router/index.js"],"names":["Vue","VueRouter","Home","store","use","routes","path","name","component","meta","requiresGuest","requiresAuth","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","matched","some","record","getters","isLoggedIn"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AAEAH,GAAG,CAACI,GAAJ,CAAQH,SAAR;AAEA,IAAMI,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAEN;AAHb,CADa,EAMb;AACEI,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGE;AACA;AACA;AACAC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,oBAAP,CAAN;AAAA;AANb,CANa,EAcb;AACEF,EAAAA,IAAI,EAAE,WADR;AAEEC,EAAAA,IAAI,EAAE,UAFR;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,uBAAP,CAAN;AAAA,GAHb;AAIEC,EAAAA,IAAI,EAAE;AACJC,IAAAA,aAAa,EAAE;AADX;AAJR,CAda,EAsBb;AACEJ,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,oBAAP,CAAN;AAAA,GAHb;AAIEC,EAAAA,IAAI,EAAE;AACJC,IAAAA,aAAa,EAAE;AADX;AAJR,CAtBa,EA8Bb;AACEJ,EAAAA,IAAI,EAAE,UADR;AAEEC,EAAAA,IAAI,EAAE,SAFR;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,sBAAP,CAAN;AAAA,GAHb;AAIEC,EAAAA,IAAI,EAAE;AACJE,IAAAA,YAAY,EAAE;AADV;AAJR,CA9Ba,CAAf;AAwCA,IAAMC,MAAM,GAAG,IAAIX,SAAJ,CAAc;AAC3BY,EAAAA,IAAI,EAAE,SADqB;AAE3BC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFS;AAG3BZ,EAAAA,MAAM,EAANA;AAH2B,CAAd,CAAf;AAMAO,MAAM,CAACM,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAIF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAACC,MAAD;AAAA,WAAYA,MAAM,CAACf,IAAP,CAAYE,YAAxB;AAAA,GAAhB,CAAJ,EAA2D;AACzD,QAAI,CAACR,KAAK,CAACsB,OAAN,CAAcC,UAAnB,EAA+B;AAC7B;AACAL,MAAAA,IAAI,CAAC,QAAD,CAAJ;AACD,KAHD,MAGO;AACLA,MAAAA,IAAI;AACL;AACF,GAPD,MAOO,IAAIF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAACC,MAAD;AAAA,WAAYA,MAAM,CAACf,IAAP,CAAYC,aAAxB;AAAA,GAAhB,CAAJ,EAA4D;AACjE,QAAIP,KAAK,CAACsB,OAAN,CAAcC,UAAlB,EAA8B;AAC5B;AACAL,MAAAA,IAAI,CAAC,UAAD,CAAJ;AACD,KAHD,MAGO;AACLA,MAAAA,IAAI;AACL;AACF,GAPM,MAOA;AACLA,IAAAA,IAAI;AACL;AACF,CAlBD;AAoBA,eAAeT,MAAf","sourcesContent":["import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Home from \"../views/Home.vue\";\nimport store from \"../store/index\";\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"Home\",\n    component: Home,\n  },\n  {\n    path: \"/about\",\n    name: \"About\",\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(\"../views/About.vue\"),\n  },\n  {\n    path: \"/register\",\n    name: \"Register\",\n    component: () => import(\"../views/Register.vue\"),\n    meta: {\n      requiresGuest: true,\n    },\n  },\n  {\n    path: \"/login\",\n    name: \"Login\",\n    component: () => import(\"../views/Login.vue\"),\n    meta: {\n      requiresGuest: true,\n    },\n  },\n  {\n    path: \"/profile\",\n    name: \"Profile\",\n    component: () => import(\"../views/Profile.vue\"),\n    meta: {\n      requiresAuth: true,\n    },\n  },\n];\n\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes,\n});\n\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some((record) => record.meta.requiresAuth)) {\n    if (!store.getters.isLoggedIn) {\n      // Redirect to login page\n      next(\"/login\");\n    } else {\n      next();\n    }\n  } else if (to.matched.some((record) => record.meta.requiresGuest)) {\n    if (store.getters.isLoggedIn) {\n      // Redirect to login page\n      next(\"/profile\");\n    } else {\n      next();\n    }\n  } else {\n    next();\n  }\n});\n\nexport default router;\n"]}]}