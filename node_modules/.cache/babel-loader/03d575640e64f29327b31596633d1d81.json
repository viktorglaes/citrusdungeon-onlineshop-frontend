{"remainingRequest":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/babel-loader/lib/index.js!/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/viktorglaes/Documents/vue/online-shop/client/src/views/Products.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/src/views/Products.vue","mtime":1605818369290},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy92aWt0b3JnbGFlcy9Eb2N1bWVudHMvdnVlL29ubGluZS1zaG9wL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy92aWt0b3JnbGFlcy9Eb2N1bWVudHMvdnVlL29ubGluZS1zaG9wL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IFNlYXJjaEZpZWxkIGZyb20gIi4uL2NvbXBvbmVudHMvU2VhcmNoRmllbGQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlByb2R1Y3RzIiwKICBjb21wb25lbnRzOiB7CiAgICBTZWFyY2hGaWVsZDogU2VhcmNoRmllbGQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBpdGVtczogW10sCiAgICAgIGN1cnJlbnRQcm9kdWN0OiB7fQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsiYWxsUHJvZHVjdHMiLCAiY2FydEl0ZW1zIl0pKSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWyJnZXRQcm9kdWN0cyIsICJzZXRDYXJ0SXRlbXMiLCAic2V0UHJvZHVjdEJ5SWQiXSkpLCB7fSwgewogICAgYWRkVG9DYXJ0OiBmdW5jdGlvbiBhZGRUb0NhcnQocHJvZHVjdCkgewogICAgICB0aGlzLmN1cnJlbnRQcm9kdWN0ID0gewogICAgICAgIHF1YW50aXR5OiAxLAogICAgICAgIHRvdGFsUHJpY2U6IHByb2R1Y3QucHJpY2UsCiAgICAgICAgcHJpY2U6IHByb2R1Y3QucHJpY2UsCiAgICAgICAgdGl0bGU6IHByb2R1Y3QudGl0bGUKICAgICAgfTsKICAgICAgdGhpcy5jYXJ0SXRlbXMucHVzaCh0aGlzLmN1cnJlbnRQcm9kdWN0KTsKICAgICAgdGhpcy5zZXRDYXJ0SXRlbXModGhpcy5jYXJ0SXRlbXMpOwogICAgICB0aGlzLmFwcGx5Q2FydEljb24oKTsKICAgIH0sCiAgICBuYXZpZ2F0ZVRvOiBmdW5jdGlvbiBuYXZpZ2F0ZVRvKHJvdXRlKSB7CiAgICAgIHRoaXMuZ2V0UHJvZHVjdChyb3V0ZS5wYXJhbXMucHJvZHVjdElkKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2gocm91dGUpOyAvLyBjb25zb2xlLmxvZyhyb3V0ZS5wYXJhbXMucHJvZHVjdElkKTsKICAgIH0sCiAgICBnZXRQcm9kdWN0OiBmdW5jdGlvbiBnZXRQcm9kdWN0KHByb2R1Y3RJZCkgewogICAgICB2YXIgcHJvZHVjdCA9IHt9OyAvLyBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYWxsUHJvZHVjdHMubGVuZ3RoOyBpKyspIHsKICAgICAgLy8gICBpZiAodGhpcy5hbGxQcm9kdWN0c1tpXS5faWQgPT0gcHJvZHVjdElkKSB7CiAgICAgIC8vICAgICBwcm9kdWN0ID0gdGhpcy5hbGxQcm9kdWN0c1tpXTsKICAgICAgLy8gICB9CiAgICAgIC8vIH0KCiAgICAgIHByb2R1Y3QgPSB0aGlzLmFsbFByb2R1Y3RzLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgcmV0dXJuIGVsLl9pZCA9PT0gcHJvZHVjdElkOwogICAgICB9KTsKICAgICAgdGhpcy5zZXRQcm9kdWN0QnlJZChwcm9kdWN0KTsKICAgIH0sCiAgICBhcHBseUNhcnRJY29uOiBmdW5jdGlvbiBhcHBseUNhcnRJY29uKCkgewogICAgICB2YXIgcXVhbnRpdHlJY29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIml0ZW0tcXVhbnRpdHkiKTsKICAgICAgcXVhbnRpdHlJY29uLnN0eWxlID0gInRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjZzIGVhc2U7IHRyYW5zZm9ybTogc2NhbGUoMS4xKTsgYmFja2dyb3VuZC1jb2xvcjogIzIyQzMyMjsiOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBxdWFudGl0eUljb24uc3R5bGUgPSAidHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuNnMgZWFzZTsgdHJhbnNmb3JtOiBzY2FsZSgwLjkpOyBiYWNrZ3JvdW5kLWNvbG9yOiAjMjJDMzIyOyI7CiAgICAgIH0sIDUwMCk7CiAgICB9CiAgfSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaXRlbXMgPSB0aGlzLmNhcnRJdGVtczsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7Ly8gdGhpcy5nZXRQcm9kdWN0cygiIik7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"sources":["Products.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,OAAA,WAAA,MAAA,2BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA;AACA,MAAA,cAAA,EAAA;AAFA,KAAA;AAIA,GAVA;AAWA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,aAAA,EAAA,WAAA,CAAA,CADA,CAXA;AAcA,EAAA,OAAA,kCACA,UAAA,CAAA,CAAA,aAAA,EAAA,cAAA,EAAA,gBAAA,CAAA,CADA;AAEA,IAAA,SAFA,qBAEA,OAFA,EAEA;AACA,WAAA,cAAA,GAAA;AACA,QAAA,QAAA,EAAA,CADA;AAEA,QAAA,UAAA,EAAA,OAAA,CAAA,KAFA;AAGA,QAAA,KAAA,EAAA,OAAA,CAAA,KAHA;AAIA,QAAA,KAAA,EAAA,OAAA,CAAA;AAJA,OAAA;AAMA,WAAA,SAAA,CAAA,IAAA,CAAA,KAAA,cAAA;AACA,WAAA,YAAA,CAAA,KAAA,SAAA;AACA,WAAA,aAAA;AACA,KAZA;AAaA,IAAA,UAbA,sBAaA,KAbA,EAaA;AACA,WAAA,UAAA,CAAA,KAAA,CAAA,MAAA,CAAA,SAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,KAAA,EAFA,CAGA;AACA,KAjBA;AAkBA,IAAA,UAlBA,sBAkBA,SAlBA,EAkBA;AACA,UAAA,OAAA,GAAA,EAAA,CADA,CAEA;AACA;AACA;AACA;AACA;;AACA,MAAA,OAAA,GAAA,KAAA,WAAA,CAAA,IAAA,CAAA,UAAA,EAAA;AAAA,eAAA,EAAA,CAAA,GAAA,KAAA,SAAA;AAAA,OAAA,CAAA;AACA,WAAA,cAAA,CAAA,OAAA;AACA,KA3BA;AA4BA,IAAA,aA5BA,2BA4BA;AACA,UAAA,YAAA,GAAA,QAAA,CAAA,cAAA,CAAA,eAAA,CAAA;AAEA,MAAA,YAAA,CAAA,KAAA,GACA,oFADA;AAEA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,YAAA,CAAA,KAAA,GACA,oFADA;AAEA,OAHA,EAGA,GAHA,CAAA;AAIA;AArCA,IAdA;AAqDA,EAAA,OArDA,qBAqDA;AACA,SAAA,KAAA,GAAA,KAAA,SAAA;AACA,GAvDA;AAwDA,EAAA,OAxDA,qBAwDA,CACA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AA1DA,CAAA","sourcesContent":["<template>\n  <div class=\"products\">\n    <SearchField />\n    <div class=\"search-results\">\n      <div class=\"header\" style=\"border-bottom: solid 5px white\">\n        <p style=\"margin-left: 10px\">{{ allProducts.length }} results</p>\n      </div>\n      <div class=\"columns is-multiline\">\n        <div\n          v-for=\"product in allProducts\"\n          :key=\"product._id\"\n          class=\"column is-one-quarter\"\n        >\n          <div class=\"card\">\n            <div\n              class=\"card-image\"\n              style=\"cursor: pointer;\"\n              @click=\"\n                navigateTo({\n                  name: 'Product',\n                  params: { productId: product._id },\n                })\n              \"\n            >\n              <!-- <router-link to=\"product\"> -->\n              <figure class=\"image is-4by3\">\n                <img :src=\"product.image\" alt=\"#\" />\n              </figure>\n              <!-- </router-link> -->\n            </div>\n            <div class=\"card-content\">\n              <div class=\"media\">\n                <div class=\"media-left\"></div>\n                <div class=\"media-content\">\n                  <p class=\"title is-4\">{{ product.title }}</p>\n                  <p class=\"subtitle is-6\">{{ product.model }}</p>\n                  <p class=\"subtitle is-6\" style=\"font-weight: bold\">\n                    ${{ product.price }}\n                  </p>\n                </div>\n              </div>\n              <div>\n                <b-button @click=\"addToCart(product)\">Add to cart</b-button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\nimport SearchField from \"../components/SearchField\";\n\nexport default {\n  name: \"Products\",\n  components: {\n    SearchField,\n  },\n  data() {\n    return {\n      // items: [],\n      currentProduct: {},\n    };\n  },\n  computed: {\n    ...mapGetters([\"allProducts\", \"cartItems\"]),\n  },\n  methods: {\n    ...mapActions([\"getProducts\", \"setCartItems\", \"setProductById\"]),\n    addToCart(product) {\n      this.currentProduct = {\n        quantity: 1,\n        totalPrice: product.price,\n        price: product.price,\n        title: product.title,\n      };\n      this.cartItems.push(this.currentProduct);\n      this.setCartItems(this.cartItems);\n      this.applyCartIcon();\n    },\n    navigateTo(route) {\n      this.getProduct(route.params.productId);\n      this.$router.push(route);\n      // console.log(route.params.productId);\n    },\n    getProduct(productId) {\n      let product = {};\n      // for (let i = 0; i < this.allProducts.length; i++) {\n      //   if (this.allProducts[i]._id == productId) {\n      //     product = this.allProducts[i];\n      //   }\n      // }\n      product = this.allProducts.find((el) => el._id === productId);\n      this.setProductById(product);\n    },\n    applyCartIcon() {\n      let quantityIcon = document.getElementById(\"item-quantity\");\n\n      quantityIcon.style =\n        \"transition: transform 0.6s ease; transform: scale(1.1); background-color: #22C322;\";\n      setTimeout(function() {\n        quantityIcon.style =\n          \"transition: transform 0.6s ease; transform: scale(0.9); background-color: #22C322;\";\n      }, 500);\n    },\n  },\n  mounted() {\n    this.items = this.cartItems;\n  },\n  async created() {\n    // this.getProducts(\"\");\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.products {\n  .search-results {\n    padding: 20px 50px 50px 50px;\n\n    .header {\n      background-color: #f2effb;\n      font-size: 24px;\n      font-weight: 600;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/views"}]}