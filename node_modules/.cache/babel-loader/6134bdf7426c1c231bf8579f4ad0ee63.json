{"remainingRequest":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/babel-loader/lib/index.js!/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/eslint-loader/index.js??ref--13-0!/Users/viktorglaes/Documents/vue/online-shop/client/src/store/modules/Auth.js","dependencies":[{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/src/store/modules/Auth.js","mtime":1605886321797},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/viktorglaes/Documents/vue/online-shop/client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3Zpa3RvcmdsYWVzL0RvY3VtZW50cy92dWUvb25saW5lLXNob3AvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHJvdXRlciBmcm9tICIuLi8uLi9yb3V0ZXIvaW5kZXgiOwp2YXIgc3RhdGUgPSB7CiAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpIHx8ICIiLAogIHVzZXI6IHt9LAogIHN0YXR1czogIiIsCiAgZXJyb3I6IG51bGwKfTsKdmFyIGdldHRlcnMgPSB7CiAgLy8gaXNMb2dnZWRJbjogZnVuY3Rpb24gKHN0YXRlKSB7CiAgLy8gICBpZiAoc3RhdGUudG9rZW4gIT0gJycpIHsKICAvLyAgICAgcmV0dXJuIHRydWUKICAvLyAgIH0gZWxzZSB7CiAgLy8gICAgIHJldHVybiBmYWxzZQogIC8vICAgfQogIC8vIH0KICBpc0xvZ2dlZEluOiBmdW5jdGlvbiBpc0xvZ2dlZEluKHN0YXRlKSB7CiAgICByZXR1cm4gISFzdGF0ZS50b2tlbjsKICB9LAogIGF1dGhTdGF0ZTogZnVuY3Rpb24gYXV0aFN0YXRlKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuc3RhdHVzOwogIH0sCiAgdXNlcjogZnVuY3Rpb24gdXNlcihzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnVzZXI7CiAgfSwKICBlcnJvcjogZnVuY3Rpb24gZXJyb3Ioc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5lcnJvcjsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIC8vbG9naW4gYWN0aW9uCiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIHVzZXIpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBjb21taXQsIHJlcywgdG9rZW4sIF91c2VyOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgIGNvbW1pdCgiYXV0aF9yZXF1ZXN0Iik7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoIi9hcGkvdXNlcnMvbG9naW4iLCB1c2VyKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3VjY2VzcykgewogICAgICAgICAgICAgICAgdG9rZW4gPSByZXMuZGF0YS50b2tlbjsKICAgICAgICAgICAgICAgIF91c2VyID0gcmVzLmRhdGEudXNlcjsgLy9zdG9yZSB0b2tlbiBpbnRvIGxvY2FsU3RvcmFnZQoKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHRva2VuKTsgLy9zZXQgYXhpb3MgZGVmYXVsdAoKICAgICAgICAgICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWyJBdXRob3JpemF0aW9uIl0gPSB0b2tlbjsKICAgICAgICAgICAgICAgIGNvbW1pdCgiYXV0aF9zdWNjZXNzIiwgdG9rZW4sIF91c2VyKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlcyk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMDsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgIGNvbW1pdCgiYXV0aF9lcnJvciIsIF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgMTBdXSk7CiAgICB9KSkoKTsKICB9LAogIC8vcmVnaXN0ZXIKICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoX3JlZjIsIHVzZXJEYXRhKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGNvbW1pdCwgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE7CiAgICAgICAgICAgICAgY29tbWl0KCJyZWdpc3Rlcl9yZXF1ZXN0Iik7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIvYXBpL3VzZXJzL3JlZ2lzdGVyIiwgdXNlckRhdGEpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3VjY2VzcyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBjb21taXQoInJlZ2lzdGVyX3N1Y2Nlc3MiKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCByZXMpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDEwOwogICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICBjb21taXQoInJlZ2lzdGVyX2Vycm9yIiwgX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1sxLCAxMF1dKTsKICAgIH0pKSgpOwogIH0sCiAgLy9nZXQgdXNlciBpbmZvCiAgZ2V0UHJvZmlsZTogZnVuY3Rpb24gZ2V0UHJvZmlsZShfcmVmMykgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciBjb21taXQsIHJlczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgICAgICAgICAgY29tbWl0KCJwcm9maWxlX3JlcXVlc3QiKTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiL2FwaS91c2Vycy9wcm9maWxlIik7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgY29tbWl0KCJ1c2VyX3Byb2ZpbGUiLCByZXMuZGF0YS51c2VyKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgcmVzKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSgpOwogIH0sCiAgLy9sb2dvdXQKICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmNCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgIHZhciBjb21taXQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInRva2VuIik7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY29tbWl0KCJsb2dvdXQiKTsKICAgICAgICAgICAgICBkZWxldGUgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkF1dGhvcml6YXRpb24iXTsKICAgICAgICAgICAgICByb3V0ZXIucHVzaCgiLyIpLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNCk7CiAgICB9KSkoKTsKICB9Cn07CnZhciBtdXRhdGlvbnMgPSB7CiAgYXV0aF9yZXF1ZXN0OiBmdW5jdGlvbiBhdXRoX3JlcXVlc3Qoc3RhdGUpIHsKICAgIHN0YXRlLnN0YXR1cyA9ICJsb2FkaW5nIjsKICAgIHN0YXRlLmVycm9yID0gbnVsbDsKICB9LAogIGF1dGhfc3VjY2VzczogZnVuY3Rpb24gYXV0aF9zdWNjZXNzKHN0YXRlLCB0b2tlbiwgdXNlcikgewogICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgc3RhdGUuc3RhdHVzID0gInN1Y2Nlc3MiOwogICAgc3RhdGUuZXJyb3IgPSBudWxsOwogIH0sCiAgYXV0aF9lcnJvcjogZnVuY3Rpb24gYXV0aF9lcnJvcihzdGF0ZSwgZXJyKSB7CiAgICBzdGF0ZS5lcnJvciA9IGVyci5yZXNwb25zZS5kYXRhLm1zZzsKICB9LAogIHJlZ2lzdGVyX3JlcXVlc3Q6IGZ1bmN0aW9uIHJlZ2lzdGVyX3JlcXVlc3Qoc3RhdGUpIHsKICAgIHN0YXRlLnN0YXR1cyA9ICJsb2FkaW5nIjsKICAgIHN0YXRlLmVycm9yID0gbnVsbDsKICB9LAogIHJlZ2lzdGVyX3N1Y2Nlc3M6IGZ1bmN0aW9uIHJlZ2lzdGVyX3N1Y2Nlc3Moc3RhdGUpIHsKICAgIHN0YXRlLnN0YXR1cyA9ICJzdWNjZXNzIjsKICAgIHN0YXRlLmVycm9yID0gbnVsbDsKICB9LAogIHJlZ2lzdGVyX2Vycm9yOiBmdW5jdGlvbiByZWdpc3Rlcl9lcnJvcihzdGF0ZSwgZXJyKSB7CiAgICBzdGF0ZS5lcnJvciA9IGVyci5yZXNwb25zZS5kYXRhLm1zZzsKICB9LAogIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KHN0YXRlKSB7CiAgICBzdGF0ZS5zdGF0dXMgPSAiIjsKICAgIHN0YXRlLnRva2VuID0gIiI7CiAgICBzdGF0ZS51c2VyID0gIiI7CiAgICBzdGF0ZS5lcnJvciA9IG51bGw7CiAgfSwKICBwcm9maWxlX3JlcXVlc3Q6IGZ1bmN0aW9uIHByb2ZpbGVfcmVxdWVzdCgpIHsKICAgIHN0YXRlLnN0YXR1cyA9ICJsb2FkaW5nIjsKICB9LAogIHVzZXJfcHJvZmlsZTogZnVuY3Rpb24gdXNlcl9wcm9maWxlKHN0YXRlLCB1c2VyKSB7CiAgICBzdGF0ZS51c2VyID0gdXNlcjsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["/Users/viktorglaes/Documents/vue/online-shop/client/src/store/modules/Auth.js"],"names":["axios","router","state","token","localStorage","getItem","user","status","error","getters","isLoggedIn","authState","actions","login","commit","post","res","data","success","setItem","defaults","headers","common","register","userData","undefined","getProfile","get","logout","removeItem","push","catch","mutations","auth_request","auth_success","auth_error","err","response","msg","register_request","register_success","register_error","profile_request","user_profile"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport router from \"../../router/index\";\n\nconst state = {\n  token: localStorage.getItem(\"token\") || \"\",\n  user: {},\n  status: \"\",\n  error: null,\n};\n\nconst getters = {\n  // isLoggedIn: function (state) {\n  //   if (state.token != '') {\n  //     return true\n  //   } else {\n  //     return false\n  //   }\n  // }\n  isLoggedIn: (state) => !!state.token,\n  authState: (state) => state.status,\n  user: (state) => state.user,\n  error: (state) => state.error,\n};\n\nconst actions = {\n  //login action\n  async login({ commit }, user) {\n    try {\n      commit(\"auth_request\");\n      let res = await axios.post(\"/api/users/login\", user);\n      if (res.data.success) {\n        const token = res.data.token;\n        const user = res.data.user;\n        //store token into localStorage\n        localStorage.setItem(\"token\", token);\n        //set axios default\n        axios.defaults.headers.common[\"Authorization\"] = token;\n        commit(\"auth_success\", token, user);\n      }\n      return res;\n    } catch (err) {\n      commit(\"auth_error\", err);\n    }\n  },\n\n  //register\n  async register({ commit }, userData) {\n    try {\n      commit(\"register_request\");\n      let res = await axios.post(\"/api/users/register\", userData);\n      if (res.data.success !== undefined) {\n        commit(\"register_success\");\n      }\n      return res;\n    } catch (err) {\n      commit(\"register_error\", err);\n    }\n  },\n\n  //get user info\n  async getProfile({ commit }) {\n    commit(\"profile_request\");\n    let res = await axios.get(\"/api/users/profile\");\n    commit(\"user_profile\", res.data.user);\n    return res;\n  },\n\n  //logout\n  async logout({ commit }) {\n    await localStorage.removeItem(\"token\");\n    commit(\"logout\");\n    delete axios.defaults.headers.common[\"Authorization\"];\n    router.push(\"/\").catch(() => {});\n    return;\n  },\n};\n\nconst mutations = {\n  auth_request(state) {\n    state.status = \"loading\";\n    state.error = null;\n  },\n  auth_success(state, token, user) {\n    state.token = token;\n    state.user = user;\n    state.status = \"success\";\n    state.error = null;\n  },\n  auth_error(state, err) {\n    state.error = err.response.data.msg;\n  },\n  register_request(state) {\n    state.status = \"loading\";\n    state.error = null;\n  },\n  register_success(state) {\n    state.status = \"success\";\n    state.error = null;\n  },\n  register_error(state, err) {\n    state.error = err.response.data.msg;\n  },\n  logout(state) {\n    state.status = \"\";\n    state.token = \"\";\n    state.user = \"\";\n    state.error = null;\n  },\n  profile_request() {\n    state.status = \"loading\";\n  },\n  user_profile(state, user) {\n    state.user = user;\n  },\n};\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations,\n};\n"]}]}